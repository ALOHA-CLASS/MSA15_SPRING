<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²Œì‹œíŒ í”„ë¡œì íŠ¸</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <main>
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-12 col-md-10 col-lg-6">
          <h1 class="text-center">ê²Œì‹œê¸€ ìˆ˜ì •</h1>
          <form id="form" action="/board/update" method="post" th:object="${board}">
            <input type="hidden" th:field="*{no}">
            <div class="mb-3">
              <label for="" class="form-label">ì œëª©</label>
              <input type="text" class="form-control" th:field="*{title}"
                    aria-describedby="helpTitle" placeholder="ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                    required
                      />
            </div>
            <div class="mb-3">
              <label for="" class="form-label">ì‘ì„±ì</label>
              <input type="text" class="form-control" th:field="*{writer}"
                      aria-describedby="helpWriter" placeholder="ì‘ì„±ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                      required
                      />
            </div>
            <div class="mb-3">
              <label for="" class="form-label">ë‚´ìš©</label>
              <textarea class="form-control" th:field="*{content}" rows="5"></textarea>
            </div>
            <div class="d-grid gap-2 d-md-flex justify-content-center mt-2">
              <button type="submit" class="btn btn-primary w-100">ìˆ˜ì •</button>
            </div>
            <div class="d-grid gap-2 d-md-flex justify-content-center mt-2">
              <button type="button" class="btn btn-outline-primary w-100" onclick="moveList()">ëª©ë¡</button>
              <button type="button" class="btn btn-outline-danger w-100" onclick="actionDelete()">ì‚­ì œ</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ğŸ‘©â€ğŸ’» ëª¨ë¸ ê°ì²´ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•
    let no = '[[${board.no}]]'
    // í¼
    let $form = document.getElementById("form")

    // ëª©ë¡ í™”ë©´ ì´ë™
    function moveList() {
      location.href = '/board/list'
    }
    
    // ì‚­ì œ ìš”ì²­
    function actionDelete() {
      let check = confirm('ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')
      if( check ) {
        $form.action = '/board/delete'
        $form.submit()
      }
    }
  </script>
</body>
</html>